# Onix - کلاینت Sing-box

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![GitHub Stars](https://img.shields.io/github/stars/AhmadAkd/onix?style=social)](https://github.com/AhmadAkd/onix/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/AhmadAkd/onix?style=social)](https://github.com/AhmadAkd/onix/network/members)

---

**زبان‌ها:** [English](README.md) | [فارسی](README_fa.md) | [Русский](README_ru.md) | [简体中文](README_zh.md)

---

Onix یک کلاینت گرافیکی (GUI) برای Sing-box است که به شما امکان می‌دهد اتصالات Sing-box خود را به راحتی مدیریت کنید. این برنامه با استفاده از `customtkinter` ساخته شده و یک رابط کاربری مدرن و کاربرپسند را ارائه می‌دهد.

## ✨ ویژگی‌ها

- **مدیریت سرورها:** سرورهای VLESS، Vmess و Shadowsocks را از طریق لینک‌های اشتراک یا به صورت دستی اضافه و مدیریت کنید.
- **گروه‌بندی سرورها:** سرورهای خود را در گروه‌های مختلف سازماندهی کنید.
- **تست اتصال:** پینگ (TCP) و تست URL را برای سرورهای خود انجام دهید تا عملکرد و تأخیر آن‌ها را بررسی کنید.
- **تنظیمات سیستم پروکسی:** به راحتی پروکسی سیستم ویندوز را فعال یا غیرفعال کنید.
- **تنظیمات پیشرفته:** DNS، دامنه‌های بای‌پس و IPهای بای‌پس را پیکربندی کنید.
- **قوانین مسیریابی سفارشی:** افزودن، ویرایش و حذف قوانین مسیریابی سفارشی برای کنترل پیشرفته ترافیک.
- **حالت Tray:** برنامه را در حالت Tray سیستم برای عملکرد مخفیانه اجرا کنید.
- **پشتیبانی از Windows:** به طور خاص برای سیستم‌عامل ویندوز طراحی و بهینه شده است.

## 🚀 شروع به کار

### دانلود و اجرا (برای کاربران)

برای استفاده از Onix، نیازی به نصب پایتون ندارید. کافیست آخرین نسخه اجرایی (EXE) را از بخش [Releases](https://github.com/AhmadAkd/onix/releases) در گیت‌هاب دانلود کنید.

1. به صفحه [Releases](https://github.com/AhmadAkd/onix/releases) بروید.
2. آخرین نسخه را پیدا کنید و فایل `onix-windows-exe.zip` را دانلود کنید.
3. فایل ZIP را از حالت فشرده خارج کنید.
4. فایل `onix.exe` را اجرا کنید.

**توجه:** فایل `sing-box.exe` به صورت خودکار در کنار `onix.exe` قرار می‌گیرد و نیازی به دانلود جداگانه آن نیست.

### برای توسعه‌دهندگان

#### پیش‌نیازها

- Python 3.8+
- `pip` (مدیر بسته پایتون)

#### نصب

1. مخزن را کلون کنید:

    ```bash
    git clone https://github.com/AhmadAkd/onix.git
    cd onix
    ```

2. یک محیط مجازی ایجاد و فعال کنید:

    ```bash
    python -m venv venv
    # در ویندوز
    .\venv\Scripts\activate
    # در لینوکس/macOS
    source venv/bin/activate
    ```

3. وابستگی‌ها را نصب کنید:

    ```bash
    pip install -r requirements.txt
    ```

4. فایل `sing-box.exe` را دانلود کنید. می‌توانید آن را از [صفحه Releases رسمی Sing-box](https://github.com/SagerNet/sing-box/releases) دریافت کنید. فایل `sing-box-X.Y.Z-windows-amd64.zip` را دانلود کرده و `sing-box.exe` را از داخل آن استخراج کنید و در کنار فایل `main.py` قرار دهید.

#### اجرا

```bash
python main.py
```

## 📦 ساخت فایل اجرایی (EXE)

برای ساخت یک فایل اجرایی مستقل ویندوز (EXE) با استفاده از PyInstaller:

1. مطمئن شوید که تمام پیش‌نیازهای توسعه (مانند `pyinstaller` و `sing-box.exe`) آماده هستند.
2. به سادگی اسکریپت `build.bat` را با دابل-کلیک اجرا کنید.

این اسکریپت به صورت خودکار تمام مراحل را انجام می‌دهد و فایل اجرایی نهایی (`onix.exe`) در پوشه `dist` ایجاد خواهد شد.

## 🖥️ رابط کاربری و نحوه استفاده

Onix دارای دو تب اصلی است: "Connection" و "Settings".

### تب Connection

این تب برای مدیریت سرورها و اتصالات شماست.

- **لیست سرورها (سمت چپ):**
  - **Group Dropdown:** گروه‌های سرورهای شما را نمایش می‌دهد. می‌توانید گروه مورد نظر را انتخاب کنید تا سرورهای آن گروه نمایش داده شوند.
  - **Server List:** سرورهای موجود در گروه انتخاب شده را نشان می‌دهد. با کلیک روی هر سرور، آن را انتخاب می‌کنید.
  - **Start/Stop Buttons:** برای شروع یا توقف اتصال Sing-box با سرور انتخاب شده.
  - **Status Bar:** وضعیت اتصال، آدرس IP و تأخیر فعلی را نمایش می‌دهد.
- **پنل مدیریت (سمت راست):**
  - **Subscription Management:**
    - **Subscription Link:** لینک اشتراک سرورهای خود را اینجا وارد کنید.
    - **Group Name (Optional):** یک نام برای گروه سرورهای جدید وارد کنید.
    - **Update Button:** برای به‌روزرسانی لیست سرورها از لینک اشتراک.
  - **Group Actions:**
    - **Ping Group:** برای تست پینگ (TCP) تمام سرورهای گروه فعلی.
    - **URL Test Group:** برای تست URL تمام سرورهای گروه فعلی (ممکن است زمان‌بر باشد).
    - **Sort by Ping:** سرورها را بر اساس پینگ مرتب می‌کند.
    - **URL Test (Active):** برای تست URL اتصال فعال فعلی.
  - **Manual Add:**
    - **Add Single Server:** برای اضافه کردن دستی یک سرور با وارد کردن لینک آن.
  - **Log Textbox:** پیام‌های مربوط به فعالیت‌های برنامه را نمایش می‌دهد.

### تب Settings

این تب برای پیکربندی تنظیمات برنامه است.

- **Appearance Settings:**
  - **Appearance Mode:** حالت نمایش (روشن، تاریک، سیستمی) را تغییر می‌دهد.
  - **Color Theme:** تم رنگی برنامه را تغییر می‌دهد (برای اعمال کامل نیاز به راه‌اندازی مجدد دارد).
- **Network Settings:**
  - **Connection Mode:** حالت اتصال (Rule-Based یا Global) را تنظیم می‌کند.
  - **DNS Servers:** سرورهای DNS سفارشی را وارد کنید (با کاما جدا کنید).
  - **Bypass Domains:** دامنه‌هایی که نباید از طریق پروکسی عبور کنند را وارد کنید (با کاما جدا کنید).
  - **Bypass IPs:** آدرس‌های IP که نباید از طریق پروکسی عبور کنند را وارد کنید (با کاما جدا کنید).

### تب Routing

این تب به شما امکان می‌دهد قوانین سفارشی برای کنترل ترافیک شبکه تعریف کنید. می‌توانید مشخص کنید کدام ترافیک به طور مستقیم به اینترنت متصل شود، کدام از طریق پروکسی عبور کند و کدام مسدود شود.

- **لیست قوانین:** تمام قوانین مسیریابی سفارشی که اضافه کرده‌اید را نمایش می‌دهد.
- **افزودن قانون:** یک پنجره برای ایجاد قانون جدید باز می‌کند.
  - **نوع قانون:** از بین `domain`, `ip`, `process`, `geosite`, or `geoip` انتخاب کنید.
  - **مقدار:** مقداری که باید مطابقت داده شود (مثلاً `google.com`, `1.1.1.1`, `iran`).
  - **عمل:** انتخاب کنید که ترافیک مطابق با قانون به صورت `direct` (مستقیم)، `proxy` (پروکسی) یا `block` (مسدود) شود.
- **ویرایش/حذف قانون:** قوانین موجود را تغییر دهید یا حذف کنید.
- **ذخیره/بارگذاری قوانین:** قوانین فعلی خود را در فایل تنظیمات ذخیره کرده یا آن‌ها را بارگذاری کنید.

## 🤝 مشارکت

ما از مشارکت شما استقبال می‌کنیم! لطفاً برای شروع، **راهنمای مشارکت** ما را مطالعه کنید.

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است. برای جزئیات بیشتر به فایل `LICENSE` مراجعه کنید.
