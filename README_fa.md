# Onix - یک کلاینت گرافیکی مدرن برای Sing-box

[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![GitHub Stars](https://img.shields.io/github/stars/AhmadAkd/onix?style=social)](https://github.com/AhmadAkd/onix/stargazers)
[![GitHub Forks](https://img.shields.io/github/forks/AhmadAkd/onix?style=social)](https://github.com/AhmadAkd/onix/network/members)

---

**زبان‌ها:** [English](README.md) | [فارسی](README_fa.md) | [Русский](README_ru.md) | [简体中文](README_zh.md)

---

Onix یک کلاینت گرافیکی (GUI) برای Sing-box است که برای ساده‌سازی مدیریت اتصالات شما طراحی شده است. این برنامه با استفاده از `PySide6` ساخته شده و یک رابط کاربری مدرن، پر از امکانات و کاربرپسند برای ویندوز ارائه می‌دهد.

## ✨ امکانات

- **پشتیبانی گسترده از پروتکل‌ها:**
  - **پروتکل‌های استاندارد:** VLESS, VMess, Shadowsocks, Trojan.
  - **پروتکل‌های مدرن:** **TUIC (v5)**, **Hysteria2** و **WireGuard**.
- **مدیریت خودکار هسته:** Onix به صورت خودکار آخرین نسخه هسته `sing-box` را برای شما دانلود و مدیریت می‌کند.
- **مدیریت پیشرفته اشتراک (Subscription):**
  - افزودن، ویرایش و حذف چندین لینک اشتراک.
  - فعال یا غیرفعال کردن اشتراک‌های فردی.
  - آپدیت تمام اشتراک‌ها با یک کلیک برای دریافت آخرین سرورها.
- **مدیریت قدرتمند سرور:**
  - افزودن سرور از طریق لینک‌های اشتراک.
  - افزودن دستی سرور از طریق لینک‌های اشتراک‌گذاری.
  - افزودن سرور با اسکن کد QR مستقیماً از روی صفحه نمایش.
  - **وارد کردن کانفیگ WireGuard** مستقیماً از فایل‌های `.conf`.
  - سازماندهی سرورها در گروه‌های مختلف برای مدیریت بهتر.
- **رابط کاربری و تجربه کاربری بهبود یافته:**
  - **نوار جستجو:** لیست سرورهای خود را فوراً بر اساس نام فیلتر کنید.
  - **ستون‌های قابل مرتب‌سازی:** سرورها را با یک کلیک بر اساس نام یا پینگ مرتب کنید.
  - **پنل لاگ تعاملی:** لاگ‌ها را بر اساس سطح (Info, Warning, Error و غیره) فیلتر کنید تا به راحتی مشکلات را اشکال‌زدایی کنید.
  - **بازخورد بصری:** مشاهده نشانگر "..." کنار سرورها در حین تست تأخیر.
- **تست و تحلیل اتصال:**
  - انجام تست‌های TCP ping و URL برای بررسی عملکرد و تأخیر سرورها.
  - مرتب‌سازی سرورها بر اساس نتایج پینگ برای پیدا کردن سریع‌ترین سرور.
- **یکپارچه‌سازی با سیستم (ویندوز):**
  - فعال یا غیرفعال کردن آسان پروکسی کل سیستم.
  - اجرای برنامه در پس‌زمینه (System Tray) برای عملکرد نامحسوس.
  - **حالت TUN:** فعال‌سازی پروکسی در سطح کل سیستم برای تمام برنامه‌ها.
- **پیکربندی پیشرفته:**
  - **حالت اتصال:** جابجایی بین حالت‌های پروکسی مبتنی بر قانون (Rule-Based) و جهانی (Global).
  - **Mux قابل تنظیم:** فعال‌سازی و پیکربندی Multiplexing (h2mux, smux, yamux) برای بهبود عملکرد.
  - **پهنای باند Hysteria2:** تنظیم سرعت آپلود و دانلود پیش‌فرض برای اتصالات Hysteria2.
  - **DNS سفارشی:** تنظیم سرورهای DNS سفارشی.
  - **قوانین عبور (Bypass):** پیکربندی دامنه‌ها و IP‌ها برای عبور از پروکسی.
  - **مسیریابی سفارشی:** تعریف قوانین پیشرفته و سفارشی برای کنترل نحوه مسیریابی ترافیک شبکه (مثلاً بر اساس دامنه، IP، فرآیند، geosite یا geoip).
- **مدیریت پروفایل:**
  - **ورود/خروج پروفایل:** به راحتی کل پروفایل برنامه خود (شامل سرورها، اشتراک‌ها و تنظیمات) را به عنوان یک فایل JSON وارد یا از آن خروجی بگیرید.

## 🚀 شروع به کار

### دانلود و اجرا (برای کاربران)

برای استفاده از Onix نیازی به نصب پایتون ندارید. کافی است آخرین نسخه اجرایی (EXE) را از بخش [Releases](https://github.com/AhmadAkd/onix/releases) در گیت‌هاب دانلود کنید.

1. به [صفحه Releases](https://github.com/AhmadAkd/onix/releases) بروید.
2. آخرین نسخه را پیدا کرده و فایل `onix-windows-exe.zip` را دانلود کنید.
3. فایل ZIP را استخراج کنید.
4. فایل `onix.exe` را اجرا کنید.

**توجه:** فایل `sing-box.exe` به طور خودکار توسط Onix دانلود و مدیریت می‌شود، بنابراین نیازی به دانلود جداگانه آن ندارید.

### برای توسعه‌دهندگان

#### پیش‌نیازها

- پایتون 3.8+
- `pip` (نصب‌کننده پکیج پایتون)

#### نصب

1. ریپازیتوری را کلون کنید:

    ```bash
    git clone https://github.com/AhmadAkd/onix.git
    cd onix
    ```

2. یک محیط مجازی ایجاد و فعال کنید:

    ```bash
    python -m venv venv
    # در ویندوز
    .\venv\Scripts\activate
    # در لینوکس/macOS
    source venv/bin/activate
    ```

3. وابستگی‌ها را نصب کنید:

    ```bash
    pip install -r requirements.txt
    ```

#### اجرای برنامه

وقتی برنامه را برای اولین بار اجرا می‌کنید، به طور خودکار آخرین نسخه `sing-box.exe` را برای سیستم عامل شما دانلود می‌کند.

```bash
python main.py
```

## 📦 ساخت فایل اجرایی (EXE)

برای ساخت یک فایل اجرایی مستقل برای ویندوز (EXE) با استفاده از PyInstaller:

1. اطمینان حاصل کنید که تمام پیش‌نیازهای توسعه (مانند `pyinstaller`) نصب شده‌اند.
2. به سادگی اسکریپت `build.bat` را با دوبار کلیک کردن اجرا کنید.

اسکریپت به طور خودکار تمام مراحل را انجام می‌دهد و فایل اجرایی نهایی (`onix.exe`) در پوشه `dist` ایجاد می‌شود.

## 🖥️ رابط کاربری و نحوه استفاده

Onix دارای چهار بخش اصلی است: "Connection"، "Routing"، "Logs" و "Settings" که از طریق نوار ناوبری کناری قابل دسترسی هستند.

### نمای Connection

این نمای اصلی برای مدیریت سرورها و اتصالات شماست.

- **نوار بالا:** شامل کنترل‌هایی برای انتخاب گروه، جستجوی سرور، مدیریت اشتراک‌ها و تست اتصال است.
- **لیست سرور:** سرورهای گروه انتخاب شده را نمایش می‌دهد. هر سرور یک کارت است که نام و پینگ آن را نشان می‌دهد. یک منوی زمینه (context menu) اقداماتی مانند ویرایش، حذف و کپی لینک را فراهم می‌کند.
- **نوار وضعیت (پایین):** وضعیت اتصال، IP، تأخیر، سرعت و دکمه اصلی اتصال/قطع اتصال را نشان می‌دهد.

### نمای Settings

این تب برای پیکربندی تنظیمات برنامه است.

- **تنظیمات ظاهری:** حالت نمایش (روشن، تاریک) و تم رنگی را تغییر دهید.
- **تنظیمات شبکه:**
  - **حالت اتصال:** مبتنی بر قانون یا جهانی.
  - **سرورهای DNS:** سرورهای DNS سفارشی را وارد کنید.
  - **قوانین عبور:** دامنه‌ها و IP‌ها را برای عبور از پروکسی پیکربندی کنید.
  - **فعال کردن حالت TUN:** پروکسی در سطح کل سیستم را فعال کنید.
  - **پهنای باند Hysteria2:** سرعت آپلود و دانلود پیش‌فرض را برای اتصالات Hysteria2 تنظیم کنید.
- **مدیریت پروفایل:** کل پروفایل برنامه خود را وارد کرده یا از آن خروجی بگیرید.
- **آپدیت‌ها:** به صورت دستی برای آپدیت هسته `sing-box` بررسی کنید.
- **درباره:** اطلاعات برنامه را نشان می‌دهد.

### نمای Logs

این نما لاگ‌های لحظه‌ای برنامه و هسته `sing-box` را نمایش می‌دهد.

- **نوار جستجو:** به سرعت در میان لاگ‌ها جستجو کنید تا پیام‌ها یا خطاهای خاصی را پیدا کنید.
- **کنترل‌های فیلتر:** لاگ‌ها را بر اساس سطح (Info, Warning, Error, Debug) فیلتر کنید تا روی موارد مهم تمرکز کنید.
- **پاک کردن لاگ‌ها:** تمام پیام‌های لاگ را با یک کلیک از پنل پاک کنید.
- **کپی کردن لاگ‌ها:** با راست‌کلیک، متن انتخاب شده یا کل خط لاگ را کپی کنید.

### نمای Routing

این نما به شما امکان می‌دهد قوانین سفارشی برای کنترل نحوه مسیریابی ترافیک شبکه تعریف کنید. می‌توانید مشخص کنید کدام ترافیک مستقیماً به اینترنت برود، کدام از طریق پروکسی عبور کند و کدام بر اساس دامنه، IP، فرآیند، geosite یا geoip مسدود شود.

## 🤝 مشارکت

ما از مشارکت در Onix استقبال می‌کنیم! لطفاً برای راهنمایی در مورد نحوه مشارکت، از جمله استایل کدنویسی و قراردادهای پیام کامیت، به فایل [CONTRIBUTING.md](CONTRIBUTING.md) مراجعه کنید.

### ترجمه Onix

ما از مشارکت شما برای ترجمه Onix به زبان‌های بیشتر استقبال می‌کنیم! در اینجا نحوه کمک شما آمده است:

1.  **دریافت ابزارها:** شما به Qt Linguist نیاز دارید که بخشی از ابزارهای رایگان Qt است.
2.  **پیدا کردن فایل زبان:**
    *   به پوشه `translations/` بروید.
    *   فایل مربوط به زبان خود را پیدا کنید، مانند `onix_fa.ts` برای فارسی یا `onix_ru.ts` برای روسی.
    *   اگر فایل زبان شما وجود ندارد، لطفاً یک Issue باز کنید و درخواست ایجاد آن را بدهید تا ما فایل اولیه را برای شما بسازیم.
3.  **ترجمه:**
    *   فایل `.ts` را در Qt Linguist باز کنید.
    *   برای هر متن منبع (source text)، ترجمه را در فیلد مربوطه وارد کرده و آن را به عنوان تکمیل شده علامت بزنید (Ctrl+Enter).
    *   تغییرات خود را ذخیره کنید.
4.  **ارسال مشارکت:**
    *   فایل `.ts` به‌روز شده را کامیت کنید.
    *   یک Pull Request با تغییرات خود ایجاد کنید. نیازی به نگرانی در مورد کامپایل فایل‌های `.qm` نیست؛ فرآیند ساخت ما این کار را انجام می‌دهد.

از اینکه به دسترسی‌پذیرتر شدن Onix برای کاربران بیشتر کمک می‌کنید، سپاسگزاریم!

## 📄 لایسنس

این پروژه تحت لایسنس MIT منتشر شده است. برای جزئیات بیشتر به فایل `LICENSE` مراجعه کنید.
